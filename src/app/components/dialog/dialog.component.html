<h2 mat-dialog-title style="text-align: center">
  {{ data.type === "login" ? "Login" : "Register" }}
</h2>

<!-- Login -->
@if (data.type === "login") {
<div class="login-dialog">
  <mat-dialog-content>
    <form
      [formGroup]="loginForm"
      (ngSubmit)="onSubmitLogin()"
      class="login-form"
    >
      <!-- Common fields -->
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" />
        <mat-error *ngIf="loginForm.get('email')?.hasError('required')"
          >Email is required</mat-error
        >
        <mat-error *ngIf="loginForm.get('email')?.hasError('email')"
          >Invalid email</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput type="password" formControlName="password" />
        <mat-error *ngIf="loginForm.get('password')?.hasError('required')"
          >Password is required</mat-error
        >
      </mat-form-field>

      <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Cancel</button>
        <button
          mat-button
          mat-dialog-close
          cdkFocusInitial
          color="primary"
          [disabled]="loginForm.invalid"
          type="submit"
        >
          Login
        </button>
      </mat-dialog-actions>
    </form>
  </mat-dialog-content>
</div>
}

<!-- Register -->
@if (data.type === 'register') {
<div>
  <mat-dialog-content>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmitRegister()">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Name</mat-label>
        <input matInput type="name" formControlName="name" />
        <mat-error *ngIf="loginForm.get('name')?.hasError('required')"
          >Name is required</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" />
        <mat-error *ngIf="loginForm.get('email')?.hasError('required')"
          >Email is required</mat-error
        >
        <mat-error *ngIf="loginForm.get('email')?.hasError('email')"
          >Invalid email</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Password</mat-label>
        <input matInput type="password" formControlName="password" />
        <mat-error *ngIf="loginForm.get('password')?.hasError('required')"
          >Password is required</mat-error
        >
      </mat-form-field>
      <mat-error *ngIf="userExist"
        >Email Address already exist.Please use a different one.</mat-error
      >
      <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Cancel</button>
        <button
          mat-dialog-close
          cdkFocusInitial
          color="primary"
          [disabled]="registerForm.invalid"
          type="submit"
        >
          Register
        </button>
      </mat-dialog-actions>
    </form>
  </mat-dialog-content>
</div>

}
